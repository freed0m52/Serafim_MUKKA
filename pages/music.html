<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Музыка - Aikko</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
    <link rel="stylesheet" href="../styles/custom.css">
    <style>
        .albums-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 2rem;
            margin-bottom: 3rem;
        }
        
        .album-card {
            background: var(--dark);
            border: 1px solid transparent;
            border-radius: 12px;
            overflow: hidden;
            transition: all 0.3s ease;
            height: 100%;
        }
        
        .album-card:hover {
            transform: translateY(-8px);
            border-color: var(--teal);
            box-shadow: 0 15px 35px rgba(32, 201, 151, 0.2);
        }
        
        .album-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
        }
        
        .album-info {
            padding: 1.5rem;
        }
        
        .album-title {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--white);
        }
        
        .album-year {
            color: var(--teal);
            margin-bottom: 1rem;
            font-size: 0.95rem;
        }
        
        .music-player {
            background: var(--dark);
            border: 2px solid var(--teal);
            border-radius: 12px;
            padding: 2rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .player-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 1.5rem;
        }
        
        .player-info {
            text-align: center;
            margin-bottom: 1.5rem;
        }
        
        .now-playing {
            font-size: 1.3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .album-status {
            color: var(--teal);
            font-size: 0.95rem;
        }
        
        .time-display {
            color: var(--teal);
            font-size: 0.9rem;
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        @media (max-width: 768px) {
            .container.py-5.mt-5 {
                padding-top: 2rem !important;
                margin-top: 3rem !important;
            }
            
            h1.text-center.mb-5 {
                margin-bottom: 2rem !important;
                font-size: 2rem;
                padding: 0 1rem;
            }
            
            .albums-grid {
                grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
                gap: 1.5rem;
            }
            
            .player-controls {
                flex-direction: column;
                gap: 1rem;
            }
            
            .music-player {
                padding: 1.5rem;
                margin: 0 1rem;
            }
        }
        
        @media (max-width: 480px) {
            h1.text-center.mb-5 {
                font-size: 1.7rem;
                margin-bottom: 1.5rem !important;
            }
            
            .albums-grid {
                grid-template-columns: 1fr;
            }
            
            .album-image {
                height: 200px;
            }
        }
    </style>
</head>
<body class="bg-dark text-light">
    <nav class="navbar">
        <div class="container">
            <a class="navbar-brand" href="../index.html">AIKKO</a>
            <button class="navbar-toggler" type="button" id="navbarToggler">
                <i class="bi bi-list"></i>
            </button>
            <ul class="navbar-nav" id="navbarNav">
                <li class="nav-item"><a class="nav-link" href="../index.html">Главная</a></li>
                <li class="nav-item"><a class="nav-link active" href="music.html">Музыка</a></li>
                <li class="nav-item"><a class="nav-link" href="gallery.html">Галерея</a></li>
                <li class="nav-item"><a class="nav-link" href="concerts.html">Концерты</a></li>
                <li class="nav-item"><a class="nav-link" href="contacts.html">Контакты</a></li>
            </ul>
        </div>
    </nav>

    <div class="container py-5 mt-5">
        <h1 class="text-center mb-5">Дискография</h1>
        
        <div class="albums-grid">
            <!-- Альбом 1 -->
            <div class="album-card">
                <img src="../images/album-bekrums.jpg" class="album-image" alt="Бэкрумс">
                <div class="album-info">
                    <div class="album-title">Бэкрумс</div>
                    <div class="album-year">2025 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Бэкрумс', 'bekrums')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 2 -->
            <div class="album-card">
                <img src="../images/album-podvoh.jpg" class="album-image" alt="Подвох">
                <div class="album-info">
                    <div class="album-title">Подвох</div>
                    <div class="album-year">2023 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Подвох', 'podvoh')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 3 -->
            <div class="album-card">
                <img src="../images/album-predannye.jpg" class="album-image" alt="Преданные">
                <div class="album-info">
                    <div class="album-title">Преданные</div>
                    <div class="album-year">2023 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Преданные', 'predannye')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 4 -->
            <div class="album-card">
                <img src="../images/album-akustika.jpg" class="album-image" alt="Акустика">
                <div class="album-info">
                    <div class="album-title">Сборник акустических песен</div>
                    <div class="album-year">2022 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Акустика', 'akustika')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 5 -->
            <div class="album-card">
                <img src="../images/album-temnye-delishki.jpg" class="album-image" alt="Тёмные делишки">
                <div class="album-info">
                    <div class="album-title">Тёмные делишки</div>
                    <div class="album-year">2021 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Тёмные делишки', 'temnye-delishki')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 6 -->
            <div class="album-card">
                <img src="../images/album-druzya.jpg" class="album-image" alt="Мои друзья не должны умирать">
                <div class="album-info">
                    <div class="album-title">Мои друзья не должны умирать</div>
                    <div class="album-year">2020 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Мои друзья не должны умирать', 'druzya')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 7 -->
            <div class="album-card">
                <img src="../images/album-chervi.jpg" class="album-image" alt="Черви в черепе">
                <div class="album-info">
                    <div class="album-title">Черви в черепе</div>
                    <div class="album-year">2019 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Черви в черепе', 'chervi')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 8 -->
            <div class="album-card">
                <img src="../images/album-ne-navsegda.jpg" class="album-image" alt="Не навсегда">
                <div class="album-info">
                    <div class="album-title">Не навсегда</div>
                    <div class="album-year">2019 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Не навсегда', 'ne-navsegda')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 9 -->
            <div class="album-card">
                <img src="../images/album-fiktsionalizm.jpg" class="album-image" alt="Фикционализм">
                <div class="album-info">
                    <div class="album-title">Фикционализм</div>
                    <div class="album-year">2018 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Фикционализм', 'fiktsionalizm')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 10 -->
            <div class="album-card">
                <img src="../images/album-tebe-prikolno.jpg" class="album-image" alt="Тебе прикольно ещё жить">
                <div class="album-info">
                    <div class="album-title">Тебе прикольно ещё жить</div>
                    <div class="album-year">2018 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Тебе прикольно ещё жить', 'tebe-prikolno')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 11 -->
            <div class="album-card">
                <img src="../images/album-boyus-ostyt.jpg" class="album-image" alt="Боюсь остыть">
                <div class="album-info">
                    <div class="album-title">Боюсь остыть</div>
                    <div class="album-year">2018 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Боюсь остыть', 'boyus-ostyt')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 12 -->
            <div class="album-card">
                <img src="../images/album-gori.jpg" class="album-image" alt="Гори">
                <div class="album-info">
                    <div class="album-title">Гори</div>
                    <div class="album-year">2017 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Гори', 'gori')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 13 -->
            <div class="album-card">
                <img src="../images/album-delayu-lyubov.jpg" class="album-image" alt="Делаю любовь">
                <div class="album-info">
                    <div class="album-title">Делаю любовь</div>
                    <div class="album-year">2017 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Делаю любовь', 'delayu-lyubov')">Слушать</button>
                </div>
            </div>

            <!-- Альбом 14 -->
            <div class="album-card">
                <img src="../images/album-konfetti.jpg" class="album-image" alt="Конфетти">
                <div class="album-info">
                    <div class="album-title">Конфетти</div>
                    <div class="album-year">2015 • Альбом</div>
                    <button class="btn btn-teal w-100" onclick="playAlbum('Конфетти', 'konfetti')">Слушать</button>
                </div>
            </div>
        </div>

        <div class="music-player">
            <div class="player-info">
                <div class="now-playing" id="nowPlaying">Выберите альбом для прослушивания</div>
                <div class="album-status" id="albumInfo"></div>
            </div>
            
            <audio id="audioPlayer" controls style="width: 100%; margin: 1rem 0;">
                Ваш браузер не поддерживает аудио элементы.
            </audio>
            
            <div class="player-controls">
                <button class="btn btn-teal btn-sm" id="playButton" onclick="togglePlay()">
                    <i class="bi bi-play-fill"></i> Воспроизвести
                </button>
                <div class="time-display">
                    <span id="currentTime">0:00</span> / <span id="totalTime">0:00</span>
                </div>
            </div>
        </div>
    </div>

    <script>
        let currentAudio = document.getElementById('audioPlayer');
        let isPlaying = false;
        
        function playAlbum(albumName, audioFile) {
            currentAudio.pause();
            currentAudio.currentTime = 0;
            
            const audioPath = `../music/${audioFile}.mp3`;
            currentAudio.src = audioPath;
            
            document.getElementById('nowPlaying').textContent = 'Сейчас играет: ' + albumName;
            document.getElementById('albumInfo').textContent = 'Загрузка трека...';
            
            const playButton = document.getElementById('playButton');
            playButton.innerHTML = '<i class="bi bi-play-fill"></i> Воспроизвести';
            playButton.classList.remove('btn-danger');
            playButton.classList.add('btn-teal');
            
            isPlaying = false;
            document.getElementById('albumInfo').textContent = 'Готов к воспроизведению';
        }

        function togglePlay() {
            if (!currentAudio.src) {
                alert('Сначала выберите альбом для прослушивания');
                return;
            }

            const playButton = document.getElementById('playButton');
            
            if (!isPlaying) {
                currentAudio.play().then(() => {
                    playButton.innerHTML = '<i class="bi bi-pause-fill"></i> Пауза';
                    playButton.classList.remove('btn-teal');
                    playButton.classList.add('btn-danger');
                    document.getElementById('albumInfo').textContent = 'Идёт воспроизведение...';
                    isPlaying = true;
                }).catch(error => {
                    console.error('Ошибка воспроизведения:', error);
                    alert('Ошибка при воспроизведении трека. Проверьте файл.');
                });
            } else {
                currentAudio.pause();
                playButton.innerHTML = '<i class="bi bi-play-fill"></i> Продолжить';
                playButton.classList.remove('btn-danger');
                playButton.classList.add('btn-teal');
                document.getElementById('albumInfo').textContent = 'На паузе';
                isPlaying = false;
            }
        }

        currentAudio.addEventListener('timeupdate', function() {
            const currentTime = formatTime(currentAudio.currentTime);
            const duration = formatTime(currentAudio.duration);
            
            document.getElementById('currentTime').textContent = currentTime;
            document.getElementById('totalTime').textContent = duration;
        });

        currentAudio.addEventListener('ended', function() {
            isPlaying = false;
            const playButton = document.getElementById('playButton');
            playButton.innerHTML = '<i class="bi bi-play-fill"></i> Воспроизвести';
            playButton.classList.remove('btn-danger');
            playButton.classList.add('btn-teal');
            document.getElementById('albumInfo').textContent = 'Воспроизведение завершено';
        });

        function formatTime(seconds) {
            if (isNaN(seconds)) return '0:00';
            
            const min = Math.floor(seconds / 60);
            const sec = Math.floor(seconds % 60);
            return `${min}:${sec.toString().padStart(2, '0')}`;
        }

        // Навигация для мобильных
        document.getElementById('navbarToggler').addEventListener('click', function() {
            document.getElementById('navbarNav').classList.toggle('show');
        });
    </script>
</body>
</html>